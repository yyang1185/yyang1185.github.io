<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="公司的 web app 中，下拉列表对象（boundlist）没有可用于识别的 unique 的 feature。12345&amp;lt;div class=&amp;quot;x-boundlist x-boundlist-floating x-layer x-boundlist-default x-border-box x-boundlist-above&amp;quot; style=&amp;quot;width: 2">
<meta property="og:type" content="article">
<meta property="og:title" content="测试实例总结 No.01">
<meta property="og:url" content="http://yoursite.com/2017/12/14/测试实例总结-01/index.html">
<meta property="og:site_name" content="Lawrence&#39;s Blog">
<meta property="og:description" content="公司的 web app 中，下拉列表对象（boundlist）没有可用于识别的 unique 的 feature。12345&amp;lt;div class=&amp;quot;x-boundlist x-boundlist-floating x-layer x-boundlist-default x-border-box x-boundlist-above&amp;quot; style=&amp;quot;width: 2">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-04-02T17:01:31.051Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="测试实例总结 No.01">
<meta name="twitter:description" content="公司的 web app 中，下拉列表对象（boundlist）没有可用于识别的 unique 的 feature。12345&amp;lt;div class=&amp;quot;x-boundlist x-boundlist-floating x-layer x-boundlist-default x-border-box x-boundlist-above&amp;quot; style=&amp;quot;width: 2">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/12/14/测试实例总结-01/"/>





  <title>测试实例总结 No.01 | Lawrence's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Lawrence's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/14/测试实例总结-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lawrence Young">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lawrence's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">测试实例总结 No.01</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-14T00:00:00-05:00">
                2017-12-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/测试实例/" itemprop="url" rel="index">
                    <span itemprop="name">测试实例</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>公司的 web app 中，下拉列表对象（boundlist）没有可用于识别的 unique 的 feature。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;x-boundlist x-boundlist-floating x-layer x-boundlist-default x-border-box x-boundlist-above&quot; style=&quot;width: 245px; right: auto; left: 443px; top: 152px; height: auto; z-index: 19000;&quot; id=&quot;boundlist-2823&quot; tabindex=&quot;0&quot; componentid=&quot;boundlist-2823&quot;&gt;</span><br><span class="line">    &lt;div id=&quot;boundlist-2823-listWrap&quot; data-ref=&quot;listWrap&quot; role=&quot;presentation&quot; class=&quot;x-boundlist-list-ct x-unselectable&quot; style=&quot;overflow: auto; height: auto;&quot;&gt;</span><br><span class="line">        &lt;ul id=&quot;boundlist-2823-listEl&quot; data-ref=&quot;listEl&quot; class=&quot;x-list-plain&quot;&gt;</span><br><span class="line">                &lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item x-boundlist-selected&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;0&quot; data-recordid=&quot;2125&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;None&lt;/div&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;1&quot; data-recordid=&quot;2126&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;Scavenger [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;2&quot; data-recordid=&quot;2127&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;Best Effort [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;3&quot; data-recordid=&quot;2128&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;Bulk Data [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;4&quot; data-recordid=&quot;2129&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;Critical Data [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;5&quot; data-recordid=&quot;2130&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;Network Control [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;6&quot; data-recordid=&quot;2131&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;Network Management [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;7&quot; data-recordid=&quot;2132&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;RTP/Voice/Video [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;8&quot; data-recordid=&quot;2133&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;High Priority [Static]&lt;/div&gt;&lt;/li&gt;&lt;li role=&quot;option&quot; unselectable=&quot;on&quot; class=&quot;x-boundlist-item&quot; tabindex=&quot;-1&quot; data-recordindex=&quot;9&quot; data-recordid=&quot;2134&quot; data-boundview=&quot;boundlist-2823&quot;&gt;&lt;div style=&quot;vertical-align:top;&quot;&gt; &lt;img src=&quot;/OneView/images/classofservice.gif&quot; class=&quot;icon&quot; align=&quot;left&quot;&gt;&amp;nbsp;Access Control Web Redirect&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>列表也没有对应的 <code>&lt;select&gt;</code> 部分，故而也无法使用 selenium 中的 Select 方法。后用 xpath 获取 boundlist 中所有选项，进行 <code>.click()</code> 操作。使用 xpath 锁定 boundlist element 的关键是利用 <code>display:none</code> 特征。</p>
<p>尝试在已经被点开的 boundlist 中， 找到与 <code>display:none</code> 相对的特征。  关于这点，stackoverflow 上相关问题首选<a href="http://stackoverflow.com/questions/17630945/is-there-an-opposite-to-displaynone#37289654" target="_blank" rel="noopener">答案</a>如下：</p>
<blockquote>
<p>A true opposite to <code>display: none</code> there is not(yet).</p>
<p>But <code>display: unset</code> is very close and works in most case.</p>
<p>From <a href="https://developer.mozilla.org/docs/Web/CSS/unset" target="_blank" rel="noopener">MDN</a> :</p>
<p>The unset CSS keyword is the combination of the initial and inherit keywords. Like these two other CSS-wide keywords, it can be applied to any CSS property, including the CSS shorthand all. This keyword resets the property to its inherited value if it inherits from its parent or to its initial value if not. In other words, it behaves like the inherit keyword in the first case and like the initial keyword in the second case.</p>
<p><em>(source: <a href="https://developer.mozilla.org/docs/Web/CSS/unset" target="_blank" rel="noopener">https://developer.mozilla.org/docs/Web/CSS/unset</a> )</em></p>
<p>Note also that <code>display:revert</code> is currently being developed.</p>
</blockquote>
<p>但是以上方法在实际运行中没有作用。所以选择在 xpath 中加入以下：<code>not(contains(@style, &#39;display: none;&#39;)</code></p>
<p>完整 xpath 如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//*[contains(@class, &apos;x-boundlist&apos;) and not(contains(@style, &apos;display: none;&apos;))]//*[contains(@class, &apos;x-boundlist-list-ct&apos;)]//*[contains(@class, &apos;x-list-plain&apos;)]</span><br></pre></td></tr></table></figure></p>
<p>另， stackoverflow 上同一个问题的最高票<a href="http://stackoverflow.com/questions/17630945/is-there-an-opposite-to-displaynone#17631035" target="_blank" rel="noopener">答案</a>：</p>
<blockquote>
<p><code>display: none</code> doesn’t have a literal opposite like<code>visibility:hidden</code> does.</p>
<p>The<code>visibility</code> property decides whether an element is visible or not. It therefore has two states (<code>visible</code> and <code>hidden</code>), which are opposite to each other.</p>
<p>The<code>display</code> property, however, decides what layout rules an element will follow. There are several different kinds of rules for how elements will lay themselves out in CSS, so there are several different values (<code>block</code>, <code>inline</code>, <code>inline-block</code> etc — <a href="https://www.w3.org/TR/CSS2/visuren.html#display-prop" target="_blank" rel="noopener">see the documentation for these values here</a> ).</p>
<p><code>display:none</code> removes an element from the page layout entirely, as if it wasn’t there.</p>
<p>All other values for <code>display</code> cause the element to be a part of the page, so in a sense they’re all opposite to <code>display:none</code>.</p>
<p>But there isn’t one value that’s the direct converse of <code>display:none</code> - just like there’s no one hair style that’s the opposite of “bald”.</p>
</blockquote>
<p>参考 stackoverflow 上的另一个相关<a href="http://stackoverflow.com/questions/16296490/how-to-handle-combo-boxes-of-extjs-in-selenium-webdriver" target="_blank" rel="noopener">问答</a>， 完成最后function如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def click_boundlist_item(bound_list_obj, item_inner_text):</span><br><span class="line">    bound_list_obj.click()</span><br><span class="line">    xpath = &quot;//*[contains(@class, &apos;x-boundlist&apos;) and not(contains(@style, &apos;display: none;&apos;))]//*[contains(@class, &apos;x-boundlist-list-ct&apos;)]//*[contains(@class, &apos;x-list-plain&apos;)]&quot;</span><br><span class="line">    bound_list = driver.find_element_by_xpath(xpath)</span><br><span class="line">    options = list(bound_list.find_elements_by_tag_name(&apos;li&apos;))</span><br><span class="line">    for i in range(len(options)):</span><br><span class="line">        item = options[i]</span><br><span class="line">        if item_inner_text in item.get_attribute(&apos;innerText&apos;):</span><br><span class="line">            item.click()</span><br><span class="line">            break</span><br></pre></td></tr></table></figure></p>
<p>其中，<code>options</code> 一行使用了 <code>.find_elements_by_tag_name()</code> 方法。 方法名是 <code>elements</code> 而不是 <code>element</code>。 此一类 <code>elements</code> 方法可以返回当前页面元素下的所有符合选择条件的子路径。返回类型是 list 型(python)。</p>
<p>Reference: <a href="https://selenium-python.readthedocs.io/locating-elements.html" target="_blank" rel="noopener">selenium-python docs</a></p>
<p>改进：</p>
<p>需要添加 exception handling。</p>
<p>可尝试运用 selenium 的 .isdisplayed 方法。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/12/11/hello-world/" rel="next" title="Hello World">
                <i class="fa fa-chevron-left"></i> Hello World
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/14/伦敦 沦陷/" rel="prev" title="伦敦 沦陷">
                伦敦 沦陷 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Lawrence Young</p>
              <p class="site-description motion-element" itemprop="description">寻章摘句老雕虫</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lawrence Young</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
